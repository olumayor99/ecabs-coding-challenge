FROM eclipse-temurin:17-jdk-jammy

WORKDIR /app

COPY ./target/booking-consumer-service-0.0.1-SNAPSHOT.jar /app

ENV SPRING_RABBITMQ_HOST: $SPRING_RABBITMQ_HOST \
    SPRING_RABBITMQ_PORT: $SPRING_RABBITMQ_PORT \
    SPRING_RABBITMQ_USER: $SPRING_RABBITMQ_USER \
    SPRING_RABBITMQ_PASS: $SPRING_RABBITMQ_PASS \
    SPRING_LISTENER_DIRECT_DEFAULT: $SPRING_LISTENER_DIRECT_DEFAULT \
    SPRING_DATASOURCE_URL: $SPRING_DATASOURCE_URL \
    SPRING_DATASOURCE_DCN: $SPRING_DATASOURCE_DCN \
    SPRING_DATASOURCE_USER: $SPRING_DATASOURCE_USER \
    SPRING_DATASOURCE_PASS: $SPRING_DATASOURCE_PASS \
    SPRING_JPA_DATABASE_PLATFORM: $SPRING_JPA_DATABASE_PLATFORM \
    SPRING_JPA_HIBERNATE_DDL_AUTO: $SPRING_JPA_HIBERNATE_DDL_AUTO \
    SPRING_JPA_GENERATE_DDL: $SPRING_JPA_GENERATE_DDL

EXPOSE 8080

CMD ["java", "-jar", "booking-consumer-service-0.0.1-SNAPSHOT.jar"]